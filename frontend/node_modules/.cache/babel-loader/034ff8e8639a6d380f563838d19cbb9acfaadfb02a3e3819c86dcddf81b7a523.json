{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6428cdfa\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"cart-item\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"cart-item-details\"\n};\nconst _hoisted_4 = {\n  class: \"quantity-controls\"\n};\nconst _hoisted_5 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"img\", {\n    src: $setup.product.image,\n    alt: \"Product Image\",\n    class: \"cart-item-image\"\n  }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, _toDisplayString($setup.product.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Price: $\" + _toDisplayString($setup.product.price), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: $setup.decrementQuantity,\n    disabled: $setup.product.quantity <= 1\n  }, \"-\", 8 /* PROPS */, _hoisted_5), _createElementVNode(\"span\", null, _toDisplayString($setup.product.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.incrementQuantity\n  }, \"+\")]), _createElementVNode(\"p\", null, \"Subtotal: $\" + _toDisplayString($setup.product.price * $setup.product.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.removeFromCart($setup.product.id))\n  }, \"Remove\")])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","src","$setup","product","image","alt","_hoisted_2","_hoisted_3","_toDisplayString","name","price","_hoisted_4","onClick","decrementQuantity","disabled","quantity","_hoisted_5","incrementQuantity","_cache","$event","removeFromCart","id"],"sources":["E:\\Vue+Django\\bookshopFolder\\frontend\\src\\components\\CartItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"cart-item\">\r\n    <img :src=\"product.image\" alt=\"Product Image\" class=\"cart-item-image\">\r\n    <div class=\"cart-item-details\">\r\n      <h3>{{ product.name }}</h3>\r\n      <p>Price: ${{ product.price }}</p>\r\n      <div class=\"quantity-controls\">\r\n        <button @click=\"decrementQuantity\" :disabled=\"product.quantity <= 1\">-</button>\r\n        <span>{{ product.quantity }}</span>\r\n        <button @click=\"incrementQuantity\">+</button>\r\n      </div>\r\n      <p>Subtotal: ${{ product.price * product.quantity }}</p>\r\n      <button @click=\"removeFromCart(product.id)\">Remove</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, onUnmounted } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport axios from 'axios';\r\n\r\nconst props = defineProps({\r\n  product: Object\r\n});\r\n\r\nconst store = useStore();\r\nconst product = ref(props.product);\r\n\r\nconst updateQuantity = (quantity) => {\r\n  if (quantity >= 1) {\r\n    store.dispatch('updateQuantity', { productId: product.value.id, quantity });\r\n  }\r\n};\r\n\r\nconst decrementQuantity = () => {\r\n  if (product.value.quantity > 1) {\r\n    updateQuantity(product.value.quantity - 1);\r\n  }\r\n};\r\n\r\nconst incrementQuantity = () => {\r\n  updateQuantity(product.value.quantity + 1);\r\n};\r\n\r\nconst removeFromCart = (productId) => {\r\n  store.dispatch('removeFromCart', productId);\r\n};\r\n\r\n  onMounted(async () => {\r\n    try {\r\n      const response = await axios.get(`http://127.0.0.1:8000/api/products/${product.value.id}/`);\r\n      Object.assign(product.value, response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching product details:', error);\r\n    }\r\n  });\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Estilos del cart-item */\r\n  .cart-item {\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .cart-item-image {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  \r\n  .cart-item-details {\r\n    margin-left: 20px;\r\n  }\r\n  \r\n  .quantity-controls button {\r\n    margin: 0 5px;\r\n  }\r\n  </style>\r\n  "],"mappings":";;;EACOA,KAAK,EAAC;AAAW;mBADxB;;EAGSA,KAAK,EAAC;AAAmB;;EAGvBA,KAAK,EAAC;AAAmB;mBANpC;;uBACEC,mBAAA,CAaM,OAbNC,UAaM,GAZJC,mBAAA,CAAsE;IAAhEC,GAAG,EAAEC,MAAA,CAAAC,OAAO,CAACC,KAAK;IAAEC,GAAG,EAAC,eAAe;IAACR,KAAK,EAAC;0BAFxDS,UAAA,GAGIN,mBAAA,CAUM,OAVNO,UAUM,GATJP,mBAAA,CAA2B,YAAAQ,gBAAA,CAApBN,MAAA,CAAAC,OAAO,CAACM,IAAI,kBACnBT,mBAAA,CAAkC,WAA/B,UAAQ,GAAAQ,gBAAA,CAAGN,MAAA,CAAAC,OAAO,CAACO,KAAK,kBAC3BV,mBAAA,CAIM,OAJNW,UAIM,GAHJX,mBAAA,CAA+E;IAAtEY,OAAK,EAAEV,MAAA,CAAAW,iBAAiB;IAAGC,QAAQ,EAAEZ,MAAA,CAAAC,OAAO,CAACY,QAAQ;KAAO,GAAC,iBAP9EC,UAAA,GAQQhB,mBAAA,CAAmC,cAAAQ,gBAAA,CAA1BN,MAAA,CAAAC,OAAO,CAACY,QAAQ,kBACzBf,mBAAA,CAA6C;IAApCY,OAAK,EAAEV,MAAA,CAAAe;EAAiB,GAAE,GAAC,E,GAEtCjB,mBAAA,CAAwD,WAArD,aAAW,GAAAQ,gBAAA,CAAGN,MAAA,CAAAC,OAAO,CAACO,KAAK,GAAGR,MAAA,CAAAC,OAAO,CAACY,QAAQ,kBACjDf,mBAAA,CAA2D;IAAlDY,OAAK,EAAAM,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEjB,MAAA,CAAAkB,cAAc,CAAClB,MAAA,CAAAC,OAAO,CAACkB,EAAE;KAAG,QAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}