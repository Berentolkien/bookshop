{"ast":null,"code":"import NavBar from '@/components/NavBar.vue';\nimport CartItem from '@/components/CartItem.vue';\nimport Swal from 'sweetalert2';\nimport { useStore } from 'vuex';\nimport { computed } from 'vue';\nexport default {\n  __name: 'CartView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useStore();\n    const {\n      cartItems\n    } = store.state;\n    const subtotal = computed(() => {\n      return cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n    });\n    const total = computed(() => {\n      return subtotal.value;\n    });\n\n    // Función para abrir el modal de pago\n    const openPaymentModal = () => {\n      Swal.fire({\n        title: 'Seleccione método de pago',\n        html: `\n      <button class=\"swal2-confirm swal2-styled\" id=\"debitButton\">Pago con Débito</button>\n      <button class=\"swal2-confirm swal2-styled\" id=\"creditButton\">Pago con Crédito</button>\n    `,\n        showConfirmButton: false,\n        showCloseButton: true,\n        allowOutsideClick: false\n      });\n\n      // Manejar eventos de clic en los botones dentro del modal de SweetAlert2\n      document.getElementById('debitButton').addEventListener('click', () => {\n        selectPaymentMethod('debit');\n        Swal.close(); // Cerrar el modal después de seleccionar el método de pago\n      });\n      document.getElementById('creditButton').addEventListener('click', () => {\n        selectPaymentMethod('credit');\n        Swal.close(); // Cerrar el modal después de seleccionar el método de pago\n      });\n    };\n\n    // Función para seleccionar el método de pago\n    const selectPaymentMethod = method => {\n      // Aquí puedes realizar las acciones necesarias al seleccionar un método de pago\n      console.log('Método de pago seleccionado:', method);\n    };\n    const __returned__ = {\n      store,\n      cartItems,\n      subtotal,\n      total,\n      openPaymentModal,\n      selectPaymentMethod,\n      NavBar,\n      CartItem,\n      get Swal() {\n        return Swal;\n      },\n      get useStore() {\n        return useStore;\n      },\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["NavBar","CartItem","Swal","useStore","computed","store","cartItems","state","subtotal","reduce","total","item","price","quantity","value","openPaymentModal","fire","title","html","showConfirmButton","showCloseButton","allowOutsideClick","document","getElementById","addEventListener","selectPaymentMethod","close","method","console","log"],"sources":["E:/Vue+Django/bookshopFolder/frontend/src/views/CartView.vue"],"sourcesContent":["<template>\r\n  <NavBar />\r\n  <div class=\"cart-container\">\r\n    <h2>Shopping Cart</h2>\r\n    <div v-if=\"cartItems.length === 0\">Your cart is empty</div>\r\n    <div v-else>\r\n      <CartItem v-for=\"item in cartItems\" :key=\"item.id\" :product=\"item\" />\r\n      <div class=\"cart-total\">\r\n        <p>Total: ${{ total }}</p>\r\n      </div>\r\n    </div>\r\n    <!-- Botón para abrir el modal de pago -->\r\n    <button @click=\"openPaymentModal\">Pagar</button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport NavBar from '@/components/NavBar.vue';\r\nimport CartItem from '@/components/CartItem.vue';\r\nimport Swal from 'sweetalert2';\r\nimport { useStore } from 'vuex';\r\nimport { computed } from 'vue';\r\n\r\nconst store = useStore();\r\nconst { cartItems } = store.state;\r\nconst subtotal = computed(() => {\r\n  return cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);\r\n});\r\nconst total = computed(() => {\r\n  return subtotal.value;\r\n});\r\n\r\n// Función para abrir el modal de pago\r\nconst openPaymentModal = () => {\r\n  Swal.fire({\r\n    title: 'Seleccione método de pago',\r\n    html: `\r\n      <button class=\"swal2-confirm swal2-styled\" id=\"debitButton\">Pago con Débito</button>\r\n      <button class=\"swal2-confirm swal2-styled\" id=\"creditButton\">Pago con Crédito</button>\r\n    `,\r\n    showConfirmButton: false,\r\n    showCloseButton: true,\r\n    allowOutsideClick: false\r\n  });\r\n\r\n  // Manejar eventos de clic en los botones dentro del modal de SweetAlert2\r\n  document.getElementById('debitButton').addEventListener('click', () => {\r\n    selectPaymentMethod('debit');\r\n    Swal.close(); // Cerrar el modal después de seleccionar el método de pago\r\n  });\r\n\r\n  document.getElementById('creditButton').addEventListener('click', () => {\r\n    selectPaymentMethod('credit');\r\n    Swal.close(); // Cerrar el modal después de seleccionar el método de pago\r\n  });\r\n};\r\n\r\n// Función para seleccionar el método de pago\r\nconst selectPaymentMethod = (method) => {\r\n  // Aquí puedes realizar las acciones necesarias al seleccionar un método de pago\r\n  console.log('Método de pago seleccionado:', method);\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n.cart-container {\r\n  margin: 20px;\r\n}\r\n\r\n.cart-total {\r\n  margin-top: 20px;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"],"mappings":"AAiBA,OAAOA,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,IAAI,MAAM,aAAa;AAC9B,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SAASC,QAAQ,QAAQ,KAAK;;;;;;;IAE9B,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,MAAM;MAAEG;IAAU,CAAC,GAAGD,KAAK,CAACE,KAAK;IACjC,MAAMC,QAAQ,GAAGJ,QAAQ,CAAC,MAAM;MAC9B,OAAOE,SAAS,CAACG,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAS,EAAE,CAAC,CAAC;IACnF,CAAC,CAAC;IACF,MAAMH,KAAK,GAAGN,QAAQ,CAAC,MAAM;MAC3B,OAAOI,QAAQ,CAACM,KAAK;IACvB,CAAC,CAAC;;IAEF;IACA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;MAC7Bb,IAAI,CAACc,IAAI,CAAC;QACRC,KAAK,EAAE,2BAA2B;QAClCC,IAAI,EAAG;AACX;AACA;AACA,KAAK;QACDC,iBAAiB,EAAE,KAAK;QACxBC,eAAe,EAAE,IAAI;QACrBC,iBAAiB,EAAE;MACrB,CAAC,CAAC;;MAEF;MACAC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;QACrEC,mBAAmB,CAAC,OAAO,CAAC;QAC5BvB,IAAI,CAACwB,KAAK,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC;MAEFJ,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;QACtEC,mBAAmB,CAAC,QAAQ,CAAC;QAC7BvB,IAAI,CAACwB,KAAK,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC;IACJ,CAAC;;IAED;IACA,MAAMD,mBAAmB,GAAIE,MAAM,IAAK;MACtC;MACAC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,MAAM,CAAC;IACrD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}