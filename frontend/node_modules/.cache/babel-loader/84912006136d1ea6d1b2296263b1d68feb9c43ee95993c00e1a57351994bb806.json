{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6428cdfa\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"cart-item\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"cart-item-details\"\n};\nconst _hoisted_4 = {\n  class: \"quantity-controls\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"img\", {\n    src: $setup.product.image,\n    alt: \"Product Image\",\n    class: \"cart-item-image\"\n  }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, _toDisplayString($setup.product.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Price: $\" + _toDisplayString($setup.product.price), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: $setup.decrementQuantity\n  }, \"-\"), _createElementVNode(\"span\", null, _toDisplayString($setup.product.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.incrementQuantity\n  }, \"+\")]), _createElementVNode(\"p\", null, \"Subtotal: $\" + _toDisplayString($setup.product.subtotal), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.removeFromCart($setup.product.id))\n  }, \"Remove\")])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","src","$setup","product","image","alt","_hoisted_2","_hoisted_3","_toDisplayString","name","price","_hoisted_4","onClick","decrementQuantity","quantity","incrementQuantity","subtotal","_cache","$event","removeFromCart","id"],"sources":["E:\\Vue+Django\\bookshopFolder\\frontend\\src\\components\\CartItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"cart-item\">\r\n    <img :src=\"product.image\" alt=\"Product Image\" class=\"cart-item-image\">\r\n    <div class=\"cart-item-details\">\r\n      <h3>{{ product.name }}</h3>\r\n      <p>Price: ${{ product.price }}</p>\r\n      <div class=\"quantity-controls\">\r\n        <button @click=\"decrementQuantity\">-</button>\r\n        <span>{{ product.quantity }}</span>\r\n        <button @click=\"incrementQuantity\">+</button>\r\n      </div>\r\n      <p>Subtotal: ${{ product.subtotal }}</p>\r\n      <button @click=\"removeFromCart(product.id)\">Remove</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watchEffect } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { mapGetters } from 'vuex';\r\n\r\nconst { cartItems } = mapGetters('cart', ['cartItems']);\r\nconst store = useStore();\r\nconst productId = ref(null);\r\n\r\nconst product = ref({\r\n  id: 0,\r\n  name: 'Product',\r\n  image: 'path_to_image',\r\n  price: 0,\r\n  quantity: 1,\r\n  subtotal: 0\r\n});\r\n\r\nwatchEffect(() => {\r\n  if (productId.value !== null) {\r\n    const fetchedProduct = store.state.cart.cartItems.find(item => item.id === productId.value);\r\n    if (fetchedProduct) {\r\n      product.value = fetchedProduct;\r\n    }\r\n  }\r\n});\r\n\r\nconst incrementQuantity = () => {\r\n  product.value.quantity++;\r\n  updateSubtotal();\r\n};\r\n\r\nconst decrementQuantity = () => {\r\n  if (product.value.quantity > 1) {\r\n    product.value.quantity--;\r\n    updateSubtotal();\r\n  }\r\n};\r\n\r\nconst updateSubtotal = () => {\r\n  product.value.subtotal = product.value.price * product.value.quantity;\r\n};\r\n\r\nconst removeFromCart = (productId) => {\r\n  store.dispatch('cart/removeFromCart', productId);\r\n};\r\n</script>\r\n  \r\n  <style scoped>\r\n  /* Estilos del cart-item */\r\n  .cart-item {\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .cart-item-image {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  \r\n  .cart-item-details {\r\n    margin-left: 20px;\r\n  }\r\n  \r\n  .quantity-controls button {\r\n    margin: 0 5px;\r\n  }\r\n  </style>\r\n  "],"mappings":";;;EACOA,KAAK,EAAC;AAAW;mBADxB;;EAGSA,KAAK,EAAC;AAAmB;;EAGvBA,KAAK,EAAC;AAAmB;;uBALlCC,mBAAA,CAaM,OAbNC,UAaM,GAZJC,mBAAA,CAAsE;IAAhEC,GAAG,EAAEC,MAAA,CAAAC,OAAO,CAACC,KAAK;IAAEC,GAAG,EAAC,eAAe;IAACR,KAAK,EAAC;0BAFxDS,UAAA,GAGIN,mBAAA,CAUM,OAVNO,UAUM,GATJP,mBAAA,CAA2B,YAAAQ,gBAAA,CAApBN,MAAA,CAAAC,OAAO,CAACM,IAAI,kBACnBT,mBAAA,CAAkC,WAA/B,UAAQ,GAAAQ,gBAAA,CAAGN,MAAA,CAAAC,OAAO,CAACO,KAAK,kBAC3BV,mBAAA,CAIM,OAJNW,UAIM,GAHJX,mBAAA,CAA6C;IAApCY,OAAK,EAAEV,MAAA,CAAAW;EAAiB,GAAE,GAAC,GACpCb,mBAAA,CAAmC,cAAAQ,gBAAA,CAA1BN,MAAA,CAAAC,OAAO,CAACW,QAAQ,kBACzBd,mBAAA,CAA6C;IAApCY,OAAK,EAAEV,MAAA,CAAAa;EAAiB,GAAE,GAAC,E,GAEtCf,mBAAA,CAAwC,WAArC,aAAW,GAAAQ,gBAAA,CAAGN,MAAA,CAAAC,OAAO,CAACa,QAAQ,kBACjChB,mBAAA,CAA2D;IAAlDY,OAAK,EAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEhB,MAAA,CAAAiB,cAAc,CAACjB,MAAA,CAAAC,OAAO,CAACiB,EAAE;KAAG,QAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}