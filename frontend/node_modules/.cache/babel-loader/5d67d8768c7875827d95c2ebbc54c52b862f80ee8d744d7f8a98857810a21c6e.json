{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cart: [] // Array donde se almacenarán los productos en el carrito\n  },\n  mutations: {\n    addToCart(state, {\n      product,\n      quantity\n    }) {\n      const index = state.cart.findIndex(item => item.product.id === product.id);\n      if (index !== -1) {\n        state.cart[index].quantity += quantity;\n      } else {\n        state.cart.push({\n          product,\n          quantity\n        });\n      }\n    },\n    removeFromCart(state, index) {\n      state.cart.splice(index, 1);\n    },\n    updateQuantity(state, {\n      index,\n      quantity\n    }) {\n      state.cart[index].quantity = quantity;\n    }\n  },\n  actions: {\n    addToCart({\n      commit,\n      state\n    }, {\n      product,\n      quantity\n    }) {\n      commit('addToCart', {\n        product,\n        quantity\n      });\n    },\n    removeFromCart({\n      commit\n    }, index) {\n      commit('removeFromCart', index);\n    },\n    updateQuantity({\n      commit\n    }, {\n      index,\n      quantity\n    }) {\n      commit('updateQuantity', {\n        index,\n        quantity\n      });\n    }\n  },\n  getters: {\n    cartTotal(state) {\n      return state.cart.reduce((total, item) => total + item.product.price * item.quantity, 0);\n    }\n  }\n});","map":{"version":3,"names":["createStore","state","cart","mutations","addToCart","product","quantity","index","findIndex","item","id","push","removeFromCart","splice","updateQuantity","actions","commit","getters","cartTotal","reduce","total","price"],"sources":["E:/Vue+Django/bookshopFolder/frontend/src/store/cart.js"],"sourcesContent":["import { createStore } from 'vuex';\r\n\r\nexport default createStore({\r\n  state: {\r\n    cart: [], // Array donde se almacenarán los productos en el carrito\r\n  },\r\n  mutations: {\r\n    addToCart(state, { product, quantity }) {\r\n      const index = state.cart.findIndex(item => item.product.id === product.id);\r\n      if (index !== -1) {\r\n        state.cart[index].quantity += quantity;\r\n      } else {\r\n        state.cart.push({ product, quantity });\r\n      }\r\n    },\r\n    removeFromCart(state, index) {\r\n      state.cart.splice(index, 1);\r\n    },\r\n    updateQuantity(state, { index, quantity }) {\r\n      state.cart[index].quantity = quantity;\r\n    },\r\n  },\r\n  actions: {\r\n    addToCart({ commit, state }, { product, quantity }) {\r\n      commit('addToCart', { product, quantity });\r\n    },\r\n    removeFromCart({ commit }, index) {\r\n      commit('removeFromCart', index);\r\n    },\r\n    updateQuantity({ commit }, { index, quantity }) {\r\n      commit('updateQuantity', { index, quantity });\r\n    },\r\n  },\r\n  getters: {\r\n    cartTotal(state) {\r\n      return state.cart.reduce((total, item) => total + (item.product.price * item.quantity), 0);\r\n    },\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,IAAI,EAAE,EAAE,CAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTC,SAASA,CAACH,KAAK,EAAE;MAAEI,OAAO;MAAEC;IAAS,CAAC,EAAE;MACtC,MAAMC,KAAK,GAAGN,KAAK,CAACC,IAAI,CAACM,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACJ,OAAO,CAACK,EAAE,KAAKL,OAAO,CAACK,EAAE,CAAC;MAC1E,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBN,KAAK,CAACC,IAAI,CAACK,KAAK,CAAC,CAACD,QAAQ,IAAIA,QAAQ;MACxC,CAAC,MAAM;QACLL,KAAK,CAACC,IAAI,CAACS,IAAI,CAAC;UAAEN,OAAO;UAAEC;QAAS,CAAC,CAAC;MACxC;IACF,CAAC;IACDM,cAAcA,CAACX,KAAK,EAAEM,KAAK,EAAE;MAC3BN,KAAK,CAACC,IAAI,CAACW,MAAM,CAACN,KAAK,EAAE,CAAC,CAAC;IAC7B,CAAC;IACDO,cAAcA,CAACb,KAAK,EAAE;MAAEM,KAAK;MAAED;IAAS,CAAC,EAAE;MACzCL,KAAK,CAACC,IAAI,CAACK,KAAK,CAAC,CAACD,QAAQ,GAAGA,QAAQ;IACvC;EACF,CAAC;EACDS,OAAO,EAAE;IACPX,SAASA,CAAC;MAAEY,MAAM;MAAEf;IAAM,CAAC,EAAE;MAAEI,OAAO;MAAEC;IAAS,CAAC,EAAE;MAClDU,MAAM,CAAC,WAAW,EAAE;QAAEX,OAAO;QAAEC;MAAS,CAAC,CAAC;IAC5C,CAAC;IACDM,cAAcA,CAAC;MAAEI;IAAO,CAAC,EAAET,KAAK,EAAE;MAChCS,MAAM,CAAC,gBAAgB,EAAET,KAAK,CAAC;IACjC,CAAC;IACDO,cAAcA,CAAC;MAAEE;IAAO,CAAC,EAAE;MAAET,KAAK;MAAED;IAAS,CAAC,EAAE;MAC9CU,MAAM,CAAC,gBAAgB,EAAE;QAAET,KAAK;QAAED;MAAS,CAAC,CAAC;IAC/C;EACF,CAAC;EACDW,OAAO,EAAE;IACPC,SAASA,CAACjB,KAAK,EAAE;MACf,OAAOA,KAAK,CAACC,IAAI,CAACiB,MAAM,CAAC,CAACC,KAAK,EAAEX,IAAI,KAAKW,KAAK,GAAIX,IAAI,CAACJ,OAAO,CAACgB,KAAK,GAAGZ,IAAI,CAACH,QAAS,EAAE,CAAC,CAAC;IAC5F;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}