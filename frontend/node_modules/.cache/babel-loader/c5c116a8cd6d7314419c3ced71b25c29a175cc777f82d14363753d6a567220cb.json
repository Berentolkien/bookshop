{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6428cdfa\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"cart-item\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"cart-item-details\"\n};\nconst _hoisted_4 = {\n  class: \"quantity-controls\"\n};\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading...\", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $setup.product ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"img\", {\n    src: $setup.product.image,\n    alt: \"Product Image\",\n    class: \"cart-item-image\"\n  }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, _toDisplayString($setup.product.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Price: $\" + _toDisplayString($setup.product.price), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: $setup.decrementQuantity\n  }, \"-\"), _createElementVNode(\"span\", null, _toDisplayString($setup.product.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.incrementQuantity\n  }, \"+\")]), _createElementVNode(\"p\", null, \"Subtotal: $\" + _toDisplayString($setup.product.subtotal), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.removeFromCart($setup.product.id))\n  }, \"Remove\")])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [..._hoisted_7]));\n}","map":{"version":3,"names":["key","class","_createElementVNode","_hoisted_6","$setup","product","_createElementBlock","_hoisted_1","src","image","alt","_hoisted_2","_hoisted_3","_toDisplayString","name","price","_hoisted_4","onClick","decrementQuantity","quantity","incrementQuantity","subtotal","_cache","$event","removeFromCart","id","_hoisted_5","_hoisted_7"],"sources":["E:\\Vue+Django\\bookshopFolder\\frontend\\src\\components\\CartItem.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"product\" class=\"cart-item\">\r\n    <img :src=\"product.image\" alt=\"Product Image\" class=\"cart-item-image\">\r\n    <div class=\"cart-item-details\">\r\n      <h3>{{ product.name }}</h3>\r\n      <p>Price: ${{ product.price }}</p>\r\n      <div class=\"quantity-controls\">\r\n        <button @click=\"decrementQuantity\">-</button>\r\n        <span>{{ product.quantity }}</span>\r\n        <button @click=\"incrementQuantity\">+</button>\r\n      </div>\r\n      <p>Subtotal: ${{ product.subtotal }}</p>\r\n      <button @click=\"removeFromCart(product.id)\">Remove</button>\r\n    </div>\r\n  </div>\r\n  <div v-else>\r\n    <p>Loading...</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue';\r\nimport { useStore } from 'vuex';\r\n\r\nconst store = useStore();\r\nconst productId = ref(null);\r\nconst product = ref(null);\r\n\r\n// Observa los cambios en productId y actualiza el producto correspondiente\r\nwatch(productId, (newValue) => {\r\n  if (newValue !== null) {\r\n    const fetchedProduct = store.state.cart.cartItems.find(item => item.id === newValue);\r\n    if (fetchedProduct) {\r\n      product.value = fetchedProduct;\r\n    }\r\n  }\r\n});\r\n\r\nconst incrementQuantity = () => {\r\n  if (product.value) {\r\n    product.value.quantity++;\r\n    updateSubtotal();\r\n  }\r\n};\r\n\r\nconst decrementQuantity = () => {\r\n  if (product.value && product.value.quantity > 1) {\r\n    product.value.quantity--;\r\n    updateSubtotal();\r\n  }\r\n};\r\n\r\nconst updateSubtotal = () => {\r\n  if (product.value) {\r\n    product.value.subtotal = product.value.price * product.value.quantity;\r\n  }\r\n};\r\n\r\nconst removeFromCart = (productId) => {\r\n  store.dispatch('cart/removeFromCart', productId);\r\n};\r\n</script>\r\n\r\n  \r\n  <style scoped>\r\n  /* Estilos del cart-item */\r\n  .cart-item {\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .cart-item-image {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  \r\n  .cart-item-details {\r\n    margin-left: 20px;\r\n  }\r\n  \r\n  .quantity-controls button {\r\n    margin: 0 5px;\r\n  }\r\n  </style>\r\n  "],"mappings":";;;EAAAA,GAAA;EACsBC,KAAK,EAAC;;mBAD5B;;EAGSA,KAAK,EAAC;AAAmB;;EAGvBA,KAAK,EAAC;AAAmB;;EANpCD,GAAA;AAAA;gEAgBIE,mBAAA,CAAiB,WAAd,YAAU;oBAAbC,UAAiB,C;;SAfRC,MAAA,CAAAC,OAAO,I,cAAlBC,mBAAA,CAaM,OAbNC,UAaM,GAZJL,mBAAA,CAAsE;IAAhEM,GAAG,EAAEJ,MAAA,CAAAC,OAAO,CAACI,KAAK;IAAEC,GAAG,EAAC,eAAe;IAACT,KAAK,EAAC;0BAFxDU,UAAA,GAGIT,mBAAA,CAUM,OAVNU,UAUM,GATJV,mBAAA,CAA2B,YAAAW,gBAAA,CAApBT,MAAA,CAAAC,OAAO,CAACS,IAAI,kBACnBZ,mBAAA,CAAkC,WAA/B,UAAQ,GAAAW,gBAAA,CAAGT,MAAA,CAAAC,OAAO,CAACU,KAAK,kBAC3Bb,mBAAA,CAIM,OAJNc,UAIM,GAHJd,mBAAA,CAA6C;IAApCe,OAAK,EAAEb,MAAA,CAAAc;EAAiB,GAAE,GAAC,GACpChB,mBAAA,CAAmC,cAAAW,gBAAA,CAA1BT,MAAA,CAAAC,OAAO,CAACc,QAAQ,kBACzBjB,mBAAA,CAA6C;IAApCe,OAAK,EAAEb,MAAA,CAAAgB;EAAiB,GAAE,GAAC,E,GAEtClB,mBAAA,CAAwC,WAArC,aAAW,GAAAW,gBAAA,CAAGT,MAAA,CAAAC,OAAO,CAACgB,QAAQ,kBACjCnB,mBAAA,CAA2D;IAAlDe,OAAK,EAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEnB,MAAA,CAAAoB,cAAc,CAACpB,MAAA,CAAAC,OAAO,CAACoB,EAAE;KAAG,QAAM,E,sBAGtDnB,mBAAA,CAEM,OAjBRoB,UAAA,MAAAC,UAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}